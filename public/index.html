<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø³Ø¯Ø§Ø³ÙŠØ©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <!-- Ø¥Ø¶Ø§ÙØ© Ù…ÙƒØªØ¨Ø© qrcode.js Ù„ØªÙˆÙ„ÙŠØ¯ QR ÙƒÙˆØ¯ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="phone-screen active" id="phoneScreen">
            <h2>Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„Ø¬Ù„Ø³Ø©</h2>
            <input type="text" id="phoneNumber" placeholder="Ù…Ø«Ø§Ù„: X7K9P2">
            <button id="submitPhoneButton">ØªØ£ÙƒÙŠØ¯</button>
            <div id="advertisementsContainer"></div>
            <p id="phoneError" class="error-message"></p>
        </div>

        <div class="welcome-screen" id="welcomeScreen">
            <h2>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø±ÙˆÙ!</h2>
            <input type="text" id="playerName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ">
            <div>
                <button id="hostButton">Ù…Ø¶ÙŠÙ</button>
                <button id="contestantButton">Ù…ØªØ³Ø§Ø¨Ù‚</button>
            </div>
            <p id="welcomeError" class="error-message"></p>
            <div id="adminPanel" style="display: none; margin-top: 20px;">
                <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ù…ÙˆØ²</h3>
                <p id="codesCount" class="stats">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ù…ÙˆØ²: 0</p>
                <input type="number" id="codeCount" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©" min="1" max="5000">
                <button id="generateCodesButton">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ù…ÙˆØ²</button>
                <button id="copyCodesButton" style="display: none;">Ù†Ø³Ø® Ø§Ù„Ø±Ù…ÙˆØ²</button>
                <input type="number" id="specialCodeCount" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø®Ø§ØµØ©" min="1" max="5000">
                <button id="generateSpecialCodesButton" style="background-color: #28a745; color: #fff;">ØªÙˆÙ„ÙŠØ¯ Ø±Ù…ÙˆØ² Ø®Ø§ØµØ©</button>
                <button id="copySpecialCodesButton" style="background-color: #28a745; color: #fff; display: none;">Ù†Ø³Ø® Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø®Ø§ØµØ©</button>
                <textarea id="specialGeneratedCodes" readonly style="margin-top: 10px; width: 100%; height: 100px; resize: none;"></textarea>
                <br>
                <input type="text" id="manualCode" placeholder="Ø¥Ø¶Ø§ÙØ© Ø±Ù…Ø² ÙŠØ¯ÙˆÙŠÙ‹Ø§">
                <button id="addManualCodeButton">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ù…Ø²</button>
                <br>
                <input type="text" id="deleteCode" placeholder="Ø­Ø°Ù Ø±Ù…Ø²">
                <button id="deleteCodeButton">Ø­Ø°Ù Ø§Ù„Ø±Ù…Ø²</button>
                <br>
                <textarea id="deleteCodesList" placeholder="Ø£Ø¯Ø®Ù„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ù…ÙˆØ² Ù„Ù„Ø­Ø°Ù (ÙƒÙ„ Ø±Ù…Ø² ÙÙŠ Ø³Ø·Ø±)"></textarea>
                <button id="deleteCodesListButton">Ø­Ø°Ù Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
                <br>
                <input type="number" id="deleteLatestCount" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø£Ø­Ø¯Ø« Ù„Ù„Ø­Ø°Ù">
                <button id="deleteLatestCodesButton">Ø­Ø°Ù Ø§Ù„Ø£Ø­Ø¯Ø«</button>
                <br>
                <button id="backupButton" class="backup-btn">Ù†Ø³Ø® Ø§Ù„Ø±Ù…ÙˆØ²</button>
                <input type="file" id="restoreFile" accept=".xlsx" style="display: none;">
                <button id="restoreButton" class="backup-btn">Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…ÙˆØ²</button>
                <p id="adminStatus" style="color: #fff;"></p>
                <p id="adminError" class="error-message"></p>
                <div class="ad-management">
                    <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h3>
                    <input type="text" id="adTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                    <textarea id="adText" placeholder="Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" style="width: 100%; height: 100px; resize: none;"></textarea>
                    <input type="url" id="adLink" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                    <input type="text" id="adButtonText" placeholder="Ø§Ø³Ù… Ø§Ù„Ø²Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                    <button id="addAdButton">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
                    <div id="advertisementsList" class="questions-container"></div>
                </div>
                <p id="questionsCount" class="stats"></p>
                <div id="generatedCodes" style="margin-top: 10px;"></div>
                <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</h3>
                <input type="text" id="newGeneralQuestion" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¤Ø§Ù„">
                <input type="text" id="newGeneralAnswer" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©">
                <select id="generalQuestionLetter">
                    <option value="">Ø§Ø®ØªØ± Ø­Ø±Ù</option>
                    <option value="Ø£">Ø£</option><option value="Ø¨">Ø¨</option><option value="Øª">Øª</option><option value="Ø«">Ø«</option>
                    <option value="Ø¬">Ø¬</option><option value="Ø­">Ø­</option><option value="Ø®">Ø®</option><option value="Ø¯">Ø¯</option>
                    <option value="Ø°">Ø°</option><option value="Ø±">Ø±</option><option value="Ø²">Ø²</option><option value="Ø³">Ø³</option>
                    <option value="Ø´">Ø´</option><option value="Øµ">Øµ</option><option value="Ø¶">Ø¶</option><option value="Ø·">Ø·</option>
                    <option value="Ø¸">Ø¸</option><option value="Ø¹">Ø¹</option><option value="Øº">Øº</option><option value="Ù">Ù</option>
                    <option value="Ù‚">Ù‚</option><option value="Ùƒ">Ùƒ</option><option value="Ù„">Ù„</option><option value="Ù…">Ù…</option>
                    <option value="Ù†">Ù†</option><option value="Ù‡">Ù‡</option><option value="Ùˆ">Ùˆ</option><option value="ÙŠ">ÙŠ</option>
                </select>
                <button id="addGeneralQuestionButton">Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¹Ø§Ù…</button>
                <input type="file" id="excelFile" accept=".xlsx">
                <button id="uploadExcelButton">Ø±ÙØ¹ Ù…Ù„Ù Excel</button>
                <select id="generalLetterFilter">
                    <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ</option>
                    <option value="Ø£">Ø£</option><option value="Ø¨">Ø¨</option><option value="Øª">Øª</option><option value="Ø«">Ø«</option>
                    <option value="Ø¬">Ø¬</option><option value="Ø­">Ø­</option><option value="Ø®">Ø®</option><option value="Ø¯">Ø¯</option>
                    <option value="Ø°">Ø°</option><option value="Ø±">Ø±</option><option value="Ø²">Ø²</option><option value="Ø³">Ø³</option>
                    <option value="Ø´">Ø´</option><option value="Øµ">Øµ</option><option value="Ø¶">Ø¶</option><option value="Ø·">Ø·</option>
                    <option value="Ø¸">Ø¸</option><option value="Ø¹">Ø¹</option><option value="Øº">Øº</option><option value="Ù">Ù</option>
                    <option value="Ù‚">Ù‚</option><option value="Ùƒ">Ùƒ</option><option value="Ù„">Ù„</option><option value="Ù…">Ù…</option>
                    <option value="Ù†">Ù†</option><option value="Ù‡">Ù‡</option><option value="Ùˆ">Ùˆ</option><option value="ÙŠ">ÙŠ</option>
                </select>
                <div id="generalQuestionsList" class="questions-container"></div>
                <button id="deleteGeneralQuestionsButton">Ø­Ø°Ù Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</button>
                <h3>Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¬Ù„Ø³Ø§Øª</h3>
                <select id="sessionLetterFilter">
                    <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ</option>
                    <option value="Ø£">Ø£</option><option value="Ø¨">Ø¨</option><option value="Øª">Øª</option><option value="Ø«">Ø«</option>
                    <option value="Ø¬">Ø¬</option><option value="Ø­">Ø­</option><option value="Ø®">Ø®</option><option value="Ø¯">Ø¯</option>
                    <option value="Ø°">Ø°</option><option value="Ø±">Ø±</option><option value="Ø²">Ø²</option><option value="Ø³">Ø³</option>
                    <option value="Ø´">Ø´</option><option value="Øµ">Øµ</option><option value="Ø¶">Ø¶</option><option value="Ø·">Ø·</option>
                    <option value="Ø¸">Ø¸</option><option value="Ø¹">Ø¹</option><option value="Øº">Øº</option><option value="Ù">Ù</option>
                    <option value="Ù‚">Ù‚</option><option value="Ùƒ">Ùƒ</option><option value="Ù„">Ù„</option><option value="Ù…">Ù…</option>
                    <option value="Ù†">Ù†</option><option value="Ù‡">Ù‡</option><option value="Ùˆ">Ùˆ</option><option value="ÙŠ">ÙŠ</option>
                </select>
                <div id="sessionQuestionsList" class="questions-container"></div>
                <button id="addToGeneralButton">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø­Ø¯Ø¯ Ù„Ù„Ø¹Ø§Ù…</button>
            </div>
        </div>

        <div class="host-screen" id="hostScreen">
            <div class="hex-grid" id="hexGridHost">
                <div class="party-text" id="partyText">Ù…Ø¨Ø±ÙˆÙƒ</div>
            </div>
            <div class="icon-container">
                <button id="shuffleButton" class="icon-btn" title="Ø®Ù„Ø· Ø§Ù„Ø­Ø±ÙˆÙ"><i class="fas fa-random"></i></button>
                <button id="swapColorsButton" class="icon-btn" title="Ø¹ÙƒØ³ Ø§Ù„Ø­Ø¯ÙˆØ¯"><i class="fas fa-exchange-alt"></i></button>
                <button id="changeColorsButton" class="icon-btn" title="ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ù„ÙˆØ§Ù†"><i class="fas fa-palette"></i></button>
                <button id="partyButton" class="icon-btn party-btn" title="Ø¨Ø§Ø±ØªÙŠ">ğŸ‰</button>
                <button id="resetBuzzerButton" class="icon-btn" title="Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¬Ø±Ø³"><i class="fas fa-bell"></i></button>
                <!-- Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© -->
                <button id="shareButton" class="icon-btn" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¬Ù„Ø³Ø©"><i class="fas fa-share-alt"></i></button>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggleQuestions" checked>
                    <span class="slider"></span>
                </label>
                <span class="toggle-label">Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</span>
            </div>
            <div class="sliders-container">
                <label for="sizeSlider" style="color: #fff; font-size: 14px;">Ø­Ø¬Ù… Ø§Ù„Ù„ÙˆØ­Ø©</label>
                <input type="range" id="sizeSlider" class="size-slider" min="40" max="100" value="100">
                <p style="color: #fff; font-size: 12px; margin-top: 5px;">Ù…Ù„Ø§Ø­Ø¸Ø©: ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø© Ø³ÙŠØ¹ÙŠØ¯ Ø§Ù„Ù„ÙˆØ­Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ</p>
            </div>
            <p id="buzzerInfo" class="buzzer-info"></p>
            <div class="question-section">
                <p id="currentQuestion" style="flex: 100%; margin: 0;"></p>
                <button id="nextQuestionButton">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
                <input type="text" id="newQuestionInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¤Ø§Ù„">
                <input type="text" id="newAnswerInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©">
                <select id="questionLetter">
                    <option value="">Ø§Ø®ØªØ± Ø­Ø±Ù</option>
                    <option value="Ø£">Ø£</option><option value="Ø¨">Ø¨</option><option value="Øª">Øª</option><option value="Ø«">Ø«</option>
                    <option value="Ø¬">Ø¬</option><option value="Ø­">Ø­</option><option value="Ø®">Ø®</option><option value="Ø¯">Ø¯</option>
                    <option value="Ø°">Ø°</option><option value="Ø±">Ø±</option><option value="Ø²">Ø²</option><option value="Ø³">Ø³</option>
                    <option value="Ø´">Ø´</option><option value="Øµ">Øµ</option><option value="Ø¶">Ø¶</option><option value="Ø·">Ø·</option>
                    <option value="Ø¸">Ø¸</option><option value="Ø¹">Ø¹</option><option value="Øº">Øº</option><option value="Ù">Ù</option>
                    <option value="Ù‚">Ù‚</option><option value="Ùƒ">Ùƒ</option><option value="Ù„">Ù„</option><option value="Ù…">Ù…</option>
                    <option value="Ù†">Ù†</option><option value="Ù‡">Ù‡</option><option value="Ùˆ">Ùˆ</option><option value="ÙŠ">ÙŠ</option>
                </select>
                <button id="addQuestionButton">Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„</button>
            </div>
            <div class="players-container">
                <div class="team-list" id="redTeamList" ondragover="allowDrop(event)" ondrop="drop(event)"><h3>Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±</h3></div>
                <div class="team-list" id="greenTeamList" ondragover="allowDrop(event)" ondrop="drop(event)"><h3>Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø®Ø¶Ø±</h3></div>
            </div>
        </div>

        <div class="contestant-screen" id="contestantScreen">
            <div class="hex-grid" id="hexGridContestant">
                <div class="party-text" id="partyTextContestant">Ù…Ø¨Ø±ÙˆÙƒ</div>
            </div>
            <p id="contestantBuzzerInfo" class="buzzer-info"></p>
            <button id="buzzerButton" class="buzzer-btn"><i class="fas fa-bell"></i></button>
            <div id="teamInfo" style="margin-top: 10px; color: #fff;"></div>
        </div>

        <!-- Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© -->
        <div id="shareModal" class="share-modal">
            <div class="share-modal-content">
                <span id="closeModal" class="modal-close">&times;</span>
                <p>Ø§Ù†Ø³Ø® Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ´Ø§Ø±ÙƒÙ‡ Ù…Ø¹ Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¹Ø±Ø¶</p>
                <div id="qrCode"></div>
                <div class="share-link-container">
                    <input type="text" id="shareLink" readonly>
                    <button id="copyLinkButton">Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
                </div>
            </div>
        </div>
    </div>

    <audio id="buzzerSound" src="/school-bell.mp3" preload="auto"></audio>
    <audio id="timeUpSound" src="/timeisup.mp3" preload="auto"></audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="script.js"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93e313325d69b0bb',t:'MTc0Njk4MTE3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93e3645f8b1cbfb5',t:'MTc0Njk4NDQ5OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>